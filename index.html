<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Virtual Chemistry Lab</title>
  <style>
    body {
      background-color: #f0f8ff;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }
    .lab-container {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 40px;
    }
    .chemical {
      width: 120px;
      padding: 10px;
      border: 2px dashed #4a90e2;
      border-radius: 10px;
      background-color: white;
      cursor: grab;
    }
    .test-tube {
      width: 120px;
      height: 300px;
      border: 2px solid #555;
      border-radius: 10px;
      background: linear-gradient(to top, #ffffff, #dfe9f3);
      position: relative;
      overflow: hidden;
    }
    .reaction-result {
      margin-top: 30px;
      font-size: 1.2em;
      color: #333;
    }
    .precipitate {
      width: 100%;
      height: 30px;
      background-color: blue;
      position: absolute;
      bottom: 0;
      display: none;
    }
    .precipitate.brown {
      background-color: brown;
    }
  </style>
</head>
<body>
  <h1>Virtual Chemistry Lab</h1>
  <p>Drag chemicals into the test tube to observe the reaction.</p>

  <div class="lab-container">
    <div class="chemical" draggable="true" data-chemical="Cu(NO3)2">Cu(NO₃)₂</div>
    <div class="chemical" draggable="true" data-chemical="NaOH">NaOH</div>
    <div class="chemical" draggable="true" data-chemical="FeCl3">FeCl₃</div>
    <div class="chemical" draggable="true" data-chemical="NH4OH">NH₄OH</div>

    <div class="test-tube" id="testTube">
      <div class="precipitate" id="precipitate"></div>
    </div>
  </div>

  <div class="reaction-result" id="reactionResult"></div>

  <script>
    const testTube = document.getElementById('testTube');
    const precipitate = document.getElementById('precipitate');
    const reactionResult = document.getElementById('reactionResult');

    let contents = [];

    document.querySelectorAll('.chemical').forEach(el => {
      el.addEventListener('dragstart', e => {
        e.dataTransfer.setData('text/plain', el.dataset.chemical);
      });
    });

    testTube.addEventListener('dragover', e => {
      e.preventDefault();
    });

    testTube.addEventListener('drop', e => {
      e.preventDefault();
      const chemical = e.dataTransfer.getData('text/plain');
      contents.push(chemical);

      const combo = contents.slice(-2).sort().join('+');

      // Match specific reactions
      switch(combo) {
        case 'Cu(NO3)2+NaOH':
          showReaction('Cu(NO₃)₂ + 2NaOH → Cu(OH)₂ ↓ + 2NaNO₃', 'blue');
          break;
        case 'FeCl3+NH4OH':
          showReaction('FeCl₃ + 3NH₄OH → Fe(OH)₃ ↓ + 3NH₄Cl', 'brown');
          break;
        default:
          reactionResult.textContent = `${chemical} added to test tube.`;
          break;
      }
    });

    function showReaction(equation, color) {
      precipitate.className = 'precipitate';
      if (color === 'brown') precipitate.classList.add('brown');
      precipitate.style.display = 'block';
      reactionResult.textContent = equation;
    }
  </script>
</body>
</html>
